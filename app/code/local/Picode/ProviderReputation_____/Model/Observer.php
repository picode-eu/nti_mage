<?php
class Picode_ProviderReputation_Model_Observer
{
    /**
     * Applies the default params if needed
     */
    public function __construct()
    {
        
    }
    
    public function updateSocials($observer)
    {
        // $providerId = $observer->getEvent()->getProviderId();
        // $providerUrl = $observer->getEvent()->getProviderUrl();
        // $_helper = Mage::helper('providerreputation');
        // (int)$updateValue = 3;
//         
        // $providerReputation = Mage::getModel('providerreputation/reputation')
            // ->getCollection()
            // ->AddFieldToFilter('provider_id', $providerId)
            // ->getFirstItem();
//         
        // // update facebook
        // $facebookShare = $_helper->getSocialShare('facebook', $providerUrl);
        // $newReputationValue = $this->calculateNewReputation('provider_facebook', $providerReputation, $facebookShare, $updateValue);
//         
        // $providerReputation->setData('provider_facebook', $facebookShare);
        // $providerReputation->setData('provider_reputation', $newReputationValue);
//         
        // // update gplus
        // $gplusShare  = $_helper->getSocialShare('gplus', $providerUrl);
        // $newReputationValue = $this->calculateNewReputation('provider_gplus', $providerReputation, $gplusShare, $updateValue);
//         
        // $providerReputation->setData('provider_gplus', $gplusShare);
        // $providerReputation->setData('provider_reputation', $newReputationValue);
//         
        // // update tweets
        // $tweetsShare = $_helper->getSocialShare('tweets', $providerUrl);
        // $newReputationValue = $this->calculateNewReputation('provider_tweets', $providerReputation, $tweetsShare, $updateValue);
//         
        // $providerReputation->setData('provider_tweets', $tweetsShare);
        // $providerReputation->setData('provider_reputation', $newReputationValue);
//         
        // $providerReputation->save();
//         
        // Mage::log('end updateSocials (observer) ' . $providerReputation->getProviderReputation(), false, 'providerreputation.log');
    }
    
}
    